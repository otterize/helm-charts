# Parameters

## Global parameters
| Key                                             | Description                                                                                                                                                                                                                                                                                                            | Default                             |
|-------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
| `global.allowGetAllResources`                   | If defined overrides `allowGetAllResources`.                                                                                                                                                                                                                                                                           |                                     |
| `global.telemetry.enabled`                      | If set to `false`, all anonymous telemetries collection will be disabled                                                                                                                                                                                                                                               | `true`                              |
| `global.telemetry.usage.enabled`                | If set to `false`, collection of anonymous telemetries on product usage will be disabled                                                                                                                                                                                                                               | `true`                              |
| `global.telemetry.errors.enabled`               | If set to `false`, collection of anonymous telemetries on application crashes and errors will be disabled                                                                                                                                                                                                              | `true`                              |
| `global.telemetry.errors.endpointAddress`       | If set, overrides the default endpoint address for anonymous telemetries on application crashes and errors                                                                                                                                                                                                             | `(none)`                            |
| `global.telemetry.errors.stage`                 | If set, overrides the default stage for anonymous telemetries on application crashes and errors                                                                                                                                                                                                                        | `(none)`                            |
| `global.telemetry.errors.intentsOperatorApiKey` | If set, overrides the default API key for anonymous telemetries on application crashes and errors                                                                                                                                                                                                                      | `(none)`                            |
| `global.commonAnnotations`                      | Annotations to add to all deployed objects                                                                                                                                                                                                                                                                             | {}                                  |
| `global.commonLabels`                           | Labels to add to all deployed objects                                                                                                                                                                                                                                                                                  | {}                                  |
| `global.podAnnotations`                         | Annotations to add to all deployed pods                                                                                                                                                                                                                                                                                | {}                                  |
| `global.podLabels`                              | Labels to add to all deployed pods                                                                                                                                                                                                                                                                                     | {}                                  |
| `global.serviceNameOverrideAnnotationName`      | Which annotation to use (in the [service name resolution algorithm](https://docs.otterize.com/reference/service-identities#kubernetes-service-identity-resolution)) for setting a pod's service name, if not the default. Use this if you already have annotations on your pods that provide the correct service name. | `intents.otterize.com/service-name` |
| `global.aws.enabled`                            | Enable or disable AWS integration                                                                                                                                                                                                                                                                                      | `false`                             |
| `global.aws.eksClusterNameOverride`             | EKS cluster name (overrides auto-detection)                                                                                                                                                                                                                                                                            | `(none)`                            |
| `global.azure.enabled`                          | Enable or disable Azure integration                                                                                                                                                                                                                                                                                    | `false`                             |
| `global.gcp.enabled`                            | Enable or disable GCP integration                                                                                                                                                                                                                                                                                      | `false`                             |

## Operator parameters
| Key                                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Default                                                              |
|----------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
| `operator.repository`                              | Intents Operator image repository.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `otterize`                                                           |
| `operator.image`                                   | Intents Operator image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `intents-operator`                                                   |
| `operator.tag`                                     | Intents Operator image tag.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `(pinned to latest version as of this Helm chart version's publish)` |
| `operator.pullPolicy`                              | Intents Operator image pull policy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `(none)`                                                             |
| `operator.mode`                                    | `defaultActive` or `defaultShadow`. When `defaultActive` is set, enforcement is enabled by default. When `defaultShadow` is set, enforcement is disabled by default, but can be enabled per-service using a ProtectedService resource.                                                                                                                                                                                                                                                                                                       | `defaultActive`                                                      |
| `operator.enableEnforcement`                       | (deprecated, use mode instead) If set to false, enforcement is disabled globally (both for network policies and Kafka ACL). If true, you may use the other flags for more granular enforcement settings                                                                                                                                                                                                                                                                                                                                      | `true`                                                               |
| `operator.enableNetworkPolicyCreation`             | Whether the operator should create network policies according to ClientIntents                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `true`                                                               |
| `operator.enableKafkaACLCreation`                  | Whether the operator should create Kafka ACL rules according to ClientIntents of type Kafka                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `true`                                                               |
| `operator.enableIstioPolicyCreation`               | Whether the operator should create Istio authorization policies according to ClientIntents                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `true`                                                               |
| `operator.allowExternalTraffic`                    | `ifBlockedByOtterize`, `off` or `always` (this option is **experimental**). Specify how the operator handles external traffic for Ingress/Service resources: `ifBlockedByOtterize` automatically create network policies to enable internet traffic for services that would be blocked by Otterize network policies when protecting a server. Choosing `off` may necessitate manual network policy creation to allow external traffic, while `always` automatically creates policies for all such resource that are visible to the operator. | `ifBlockedByOtterize`                                                |
| `operator.resources`                               | Resources override.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                      |
| `operator.enableDatabasePolicyCreation`            | Whether the operator should create database policies according to ClientIntents                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `true`                                                               |
| `operator.enableEgressNetworkPolicyCreation`       | **experimental** - Enables experimental support for egress network policies (coming soon!)                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `false`                                                              |
| `watchedNamespaces`                                | List of namespaces the intents operator should watch. The operator will be blind to any namespace not in this list.                                                                                                                                                                                                                                                                                                                                                                                                                          | `(nil) meaning watch all`                                            |
| `enforcedNamespaces`                               | When using "shadow enforcement" mode, namespaces in this list will be treated as if the enforcement were active.                                                                                                                                                                                                                                                                                                                                                                                                                             | `(nil)`                                                              |
| `operator.autoGenerateTLSUsingCredentialsOperator` | If set to true, adds the necessary pod annotations in order to integrate with credentials-operator, and get tls certificate.                                                                                                                                                                                                                                                                                                                                                                                                                 | `false`                                                              |

## Cloud parameters
| Key                                                              | Description                                                                                                                                                                                  | Default  |
|------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| `global.otterizeCloud.credentials.clientId`                      | Client ID for connecting to Otterize Cloud.                                                                                                                                                  | `(none)` |
| `global.otterizeCloud.credentials.clientSecret`                  | Client secret for connecting to Otterize Cloud.                                                                                                                                              | `(none)` |
| `global.otterizeCloud.credentials.clientSecretKeyRef.secretName` | If specified, the name of a pre-created Kubernetes Secret to be used instead of creating a secret with the value of clientSecret.                                                            | `(none)` |
| `global.otterizeCloud.credentials.clientSecretKeyRef.secretKey`  | If specified, the key for the clientSecret in a pre-created Kubernetes Secret to be used instead of creating a secret with the value of clientSecret.                                        | `(none)` |
| `global.otterizeCloud.apiAddress`                                | Overrides Otterize Cloud default API address.                                                                                                                                                | `(none)` |
| `global.otterizeCloud.apiExtraCAPEMSecret`                       | The name of a secret containing a single `CA.pem` file for an extra root CA used to connect to Otterize Cloud. The secret should be placed in the same namespace as the Otterize deployment. | `(none)` |

## Common parameters
| Key                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Default |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `allowGetAllResources` | Gives get, list and watch permission to watch on all resources. This is used to resolve service names when pods have owners that are custom resources. When disabled, a limited set of permissions is used that only allows access to built-in Kubernetes resources that deploy Pods and Pods themselves - Deployments, StatefulSets, DaemonSets, ReplicaSets and Services. Resolving may not be able to complete if the owning resource is not one of those. | `true`  |

## AWS integration parameters
| Key           | Description                                              | Default  |
|---------------|----------------------------------------------------------|----------|
| `aws.roleARN` | ARN of the AWS role the operator will use to access AWS. | `(none)` |

## Azure integration parameters
| Key                                   | Description                                                            | Default  |
|---------------------------------------|------------------------------------------------------------------------|----------|
| `global.azure.userAssignedIdentityID` | ID of the user assigned identity used by the operator to access Azure. | `(none)` |
| `global.azure.subscriptionID`         | ID of the Azure subscription in which the AKS cluster is deployed.     | `(none)` |
| `global.azure.resoureceGroup`         | Name of the Azure resource group in which the AKS cluster is deployed. | `(none)` |
| `global.azure.aksClusterName`         | Name of the AKS cluster in which the operator is deployed.             | `(none)` |